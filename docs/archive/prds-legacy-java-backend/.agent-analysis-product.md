# Product Analyst Analysis Request

**product-analyst:** Analyze BeTrace's feature completeness for all three user personas and identify what PRDs are needed.

## Context

BeTrace serves three personas:
1. **SREs** - Discover undocumented invariants that produce incidents
2. **Developers** - Define invariants to expose service misuse
3. **Compliance Teams** - Match trace patterns to evidence control effectiveness

## Analysis Required

### 1. Audit Current Implementation
**Frontend:**
- Review bff/src/routes/ - which pages actually exist?
- Review bff/src/components/ - which features are built vs. mocked?
- Check bff/src/stories/ - what's in Storybook vs. production?
- Look for demo vs. real API integration

**Backend:**
- Review backend/src/main/java/com/betrace/routes/ - which API endpoints exist?
- Check backend/src/main/java/com/betrace/services/ - which services are implemented?
- Verify DSL parser, Drools integration, signal generation

### 2. SRE Workflow Analysis
**Essential SRE Features:**
- [ ] View traces and spans (where's the trace viewer?)
- [ ] Create rules from trace patterns (UI exists?)
- [ ] See signals when rules fire (signal list page?)
- [ ] Investigate signal details (signal detail page?)
- [ ] Test rules before deploying (rule testing UI?)
- [ ] Manage false positives (signal feedback?)
- [ ] Export findings (export functionality?)
- [ ] Historical signal trends (analytics?)

For each missing feature, identify what needs to be built.

### 3. Developer Workflow Analysis
**Essential Developer Features:**
- [ ] Write and validate DSL rules (rule editor?)
- [ ] Test rules against sample traces (test harness?)
- [ ] See rule violations in real-time (live feed?)
- [ ] Document expected patterns (rule documentation?)
- [ ] CI/CD integration (API endpoints for automation?)
- [ ] Rule version control (rule history?)
- [ ] Performance impact visibility (metrics?)

### 4. Compliance Workflow Analysis
**Essential Compliance Features:**
- [ ] Query compliance spans by framework (compliance dashboard?)
- [ ] Filter by control (CC6.1, HIPAA 164.312a, etc.)
- [ ] Generate audit reports (export/reporting?)
- [ ] Prove control effectiveness (evidence viewer?)
- [ ] Set up compliance alerts (alert configuration?)
- [ ] Track compliance coverage (which controls are monitored?)
- [ ] Auditor access (read-only views, export formats?)

### 5. Cross-Persona Features
**Essential for Everyone:**
- [ ] Multi-tenant support (tenant switcher?)
- [ ] User authentication (login/logout?)
- [ ] Role-based access control (permissions?)
- [ ] API documentation (OpenAPI spec?)
- [ ] Onboarding flow (getting started?)

## Output Format

For each missing feature:
1. **Feature Title** - Short name
2. **Persona** - Who needs it (SRE/Developer/Compliance/All)
3. **User Story** - "As a [persona], I want [feature] so that [benefit]"
4. **Current State** - What exists (with file paths if partial)
5. **Gap** - What's missing
6. **Success Criteria** - How to know it's done
7. **Complexity** - Simple/Medium/Complex
8. **Dependencies** - What must exist first
9. **Priority** - Must-have/Should-have/Nice-to-have

Group by persona, then order by priority and dependencies.

Focus on features that make BeTrace actually usable in production, not nice-to-haves.
