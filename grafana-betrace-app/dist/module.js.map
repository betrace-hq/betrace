{"version":3,"file":"module.js","mappings":"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AAQ;;0BACrB,qBAACtD,mBAAeA;gBAACmE,SAAQ;;kCACvB,qBAACC;;4BAAG;4BAAgB9D,MAAM+D,MAAM;4BAAC;;;kCACjC,qBAACrE,mBAAeA;wBAACsD,SAAQ;;0CACvB,oBAAC3D,UAAMA;gCAAC+D,SAAS9C;gCAAY4C,SAAQ;gCAAYC,MAAK;0CAAO;;0CAG7D,oBAAC9D,UAAMA;gCAAC+D,SAASvD;gCAAcqD,SAAQ;gCAAUC,MAAK;0CAAO;;;;;;YAMhEnD,MAAM+D,MAAM,KAAK,kBAChB,qBAACxE,SAAKA;gBAACmE,OAAM;gBAAmBC,UAAS;;oBAAO;kCAE9C,oBAACC;kCAAK,oBAACA;kCACP,oBAACvE,UAAMA;wBAAC+D,SAASvD;wBAAcqD,SAAQ;wBAAUC,MAAK;kCAAO;;;+BAK/D,oBAAC7D,oBAAgBA;gBAACuC,SAASA;gBAAShB,MAAMb;gBAAOgE,UAAU,CAAChC,MAAcA,IAAId,EAAE;;;;AAIxF,EAAE;;;AC5MF;AACA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,YAAY,kEAAkE;AAC7H,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iCAAO;AAChB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC;AACA,YAAY,iCAAO;AACnB;AACA,KAAK,yGAAyG,iCAAO;AACrH;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,cAAc,wCAAwC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAE0f;;;AC7G1f,SAAS,0BAAe;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA,SAAS,mBAAO;AAChB;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA,SAAS,yBAAc;AACvB,kBAAkB,sBAAsB;AACxC;;AAEA;AACA,MAAM,mBAAO;AACb,QAAQ,0BAAe;AACvB,OAAO;AACP,MAAM;AACN;AACA,MAAM;AACN,MAAM,mBAAO;AACb;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA,qEAAqE,aAAa;AAClF;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA,2EAA2E,eAAe;AAC1F;AACA;;AAEA;AACA,iFAAiF,eAAe;AAChG;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS,0BAAc;AACvB;AACA;;AAEA;AACA;AACA;AACA,YAAY,0BAAc;AAC1B,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAkB,yBAAc,CAAC,yBAAc,GAAG;AAClD;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA,kDAAe,KAAK,EAAC;;;AChMrB;AACA;AACA;AACA;AACA;;AAE6B;;;ACN7B,SAAS,WAAK;AACd;AACA;AACA,wEAAwE,aAAa;AACrF;AACA;AACA;AACA,iFAAiF,eAAe;AAChG;AACA;AACA;AACA;AACA;AACA;;AAE4B;;;ACf5B,SAAS,iBAAQ;AACjB,WAAW;AACX;;AAE+B;;;ACJO;AACM;;AAE5C;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA,eAAe,uBAAY;AAC3B,OAAO,iBAAQ,UAAU,uBAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,wBAAa;AAC5B;AACA,SAAS,qBAAU;AACnB;AACA;AACA,IAAI,wBAAa;AACjB;AACA;AACA;AACA,wIAAwI,QAAQ,qBAAqB,kCAAkC,SAAS,aAAa;AAC7N;AACA,IAAI,uBAAY,GAAG,WAAK,CAAC,qBAAU,EAAE,wBAAa;AAClD,IAAI,qBAAU;AACd;AACA;;AAE8D;;;AC1C9D,IAAI,eAAO;AACX,qEAAqE,aAAa;AAClF;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAE8B;;;ACX6D;;AAE3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,SAAS,cAAc,CAAC,cAAc,GAAG;AACzC;;AAE4B;;;ACb5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAE0D;;;ACnBsF;AAChH;AACU;AACM;AACN;AACA;AACc;;AAExD;;AAEA;AACA,oBAAoB,WAAK;AACzB,YAAY,MAAQ;AACpB;AACA;AACA;AACA;AACA,GAAG;AACH,mBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,SAAS,aAAM;AACf,2BAA2B,qBAAU;AACrC;AACA,aAAa,wBAAwB;AACrC;AACA;AACA,cAAc,KAAK;AACnB;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;A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","sources":["webpack://grafana-betrace-app/external amd \"@grafana/ui\"","webpack://grafana-betrace-app/./node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack://grafana-betrace-app/external amd \"@grafana/data\"","webpack://grafana-betrace-app/./node_modules/react/jsx-runtime.js","webpack://grafana-betrace-app/external amd \"react\"","webpack://grafana-betrace-app/webpack/bootstrap","webpack://grafana-betrace-app/webpack/runtime/define property getters","webpack://grafana-betrace-app/webpack/runtime/hasOwnProperty shorthand","webpack://grafana-betrace-app/webpack/runtime/make namespace object","webpack://grafana-betrace-app/./src/components/RuleList.tsx","webpack://grafana-betrace-app/./node_modules/@monaco-editor/loader/lib/es/_virtual/_rollupPluginBabelHelpers.js","webpack://grafana-betrace-app/./node_modules/state-local/lib/es/state-local.js","webpack://grafana-betrace-app/./node_modules/@monaco-editor/loader/lib/es/config/index.js","webpack://grafana-betrace-app/./node_modules/@monaco-editor/loader/lib/es/utils/curry.js","webpack://grafana-betrace-app/./node_modules/@monaco-editor/loader/lib/es/utils/isObject.js","webpack://grafana-betrace-app/./node_modules/@monaco-editor/loader/lib/es/validators/index.js","webpack://grafana-betrace-app/./node_modules/@monaco-editor/loader/lib/es/utils/compose.js","webpack://grafana-betrace-app/./node_modules/@monaco-editor/loader/lib/es/utils/deepMerge.js","webpack://grafana-betrace-app/./node_modules/@monaco-editor/loader/lib/es/utils/makeCancelable.js","webpack://grafana-betrace-app/./node_modules/@monaco-editor/loader/lib/es/loader/index.js","webpack://grafana-betrace-app/./node_modules/@monaco-editor/loader/lib/es/index.js","webpack://grafana-betrace-app/./node_modules/@monaco-editor/react/dist/index.mjs","webpack://grafana-betrace-app/./src/components/MonacoRuleEditor.tsx","webpack://grafana-betrace-app/./src/pages/RootPage.tsx","webpack://grafana-betrace-app/./src/pages/ConfigPage.tsx","webpack://grafana-betrace-app/./src/module.ts"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__781__;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__959__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { useState, useEffect } from 'react';\nimport { Button, Icon, InteractiveTable, Alert, Spinner, VerticalGroup, HorizontalGroup, Badge } from '@grafana/ui';\nimport type { Column } from '@grafana/ui';\n\ninterface Rule {\n  id: string;\n  name: string;\n  description: string;\n  pattern: string;\n  enabled: boolean;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\ninterface RuleListProps {\n  onCreateRule: () => void;\n  onEditRule: (rule: Rule) => void;\n  backendUrl?: string;\n}\n\n/**\n * RuleList - Display all BeTrace rules with CRUD operations\n *\n * Features:\n * - Fetch rules from backend API\n * - Display in interactive table\n * - Create/Edit/Delete actions\n * - Enable/disable toggle\n */\nexport const RuleList: React.FC<RuleListProps> = ({ onCreateRule, onEditRule, backendUrl = 'http://localhost:12011' }) => {\n  const [rules, setRules] = useState<Rule[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Fetch rules from backend\n  const fetchRules = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(`${backendUrl}/api/rules`);\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      const data = await response.json();\n      setRules(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to fetch rules');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Delete rule\n  const deleteRule = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this rule?')) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`${backendUrl}/api/rules/${id}`, {\n        method: 'DELETE',\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to delete rule: ${response.statusText}`);\n      }\n      // Refresh list\n      await fetchRules();\n    } catch (err) {\n      alert(err instanceof Error ? err.message : 'Failed to delete rule');\n    }\n  };\n\n  // Toggle rule enabled status\n  const toggleRule = async (rule: Rule) => {\n    try {\n      const response = await fetch(`${backendUrl}/api/rules/${rule.id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          ...rule,\n          enabled: !rule.enabled,\n        }),\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to update rule: ${response.statusText}`);\n      }\n      // Refresh list\n      await fetchRules();\n    } catch (err) {\n      alert(err instanceof Error ? err.message : 'Failed to toggle rule');\n    }\n  };\n\n  useEffect(() => {\n    fetchRules();\n  }, [backendUrl]);\n\n  // Table columns\n  const columns: Array<Column<Rule>> = [\n    {\n      id: 'status',\n      header: 'Status',\n      cell: ({ row }) => (\n        <Badge\n          text={row.original.enabled ? 'Enabled' : 'Disabled'}\n          color={row.original.enabled ? 'green' : 'orange'}\n        />\n      ),\n    },\n    {\n      id: 'name',\n      header: 'Rule Name',\n      cell: ({ row }) => <strong>{row.original.name}</strong>,\n    },\n    {\n      id: 'description',\n      header: 'Description',\n      cell: ({ row }) => row.original.description || <em>No description</em>,\n    },\n    {\n      id: 'pattern',\n      header: 'Pattern',\n      cell: ({ row }) => (\n        <code style={{ fontSize: '12px', maxWidth: '300px', display: 'block', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n          {row.original.pattern}\n        </code>\n      ),\n    },\n    {\n      id: 'actions',\n      header: 'Actions',\n      cell: ({ row }) => (\n        <HorizontalGroup spacing=\"xs\">\n          <Button\n            size=\"sm\"\n            variant=\"secondary\"\n            icon=\"edit\"\n            onClick={() => onEditRule(row.original)}\n            tooltip=\"Edit rule\"\n          />\n          <Button\n            size=\"sm\"\n            variant={row.original.enabled ? 'secondary' : 'primary'}\n            icon={row.original.enabled ? 'eye-slash' : 'eye'}\n            onClick={() => toggleRule(row.original)}\n            tooltip={row.original.enabled ? 'Disable rule' : 'Enable rule'}\n          />\n          <Button\n            size=\"sm\"\n            variant=\"destructive\"\n            icon=\"trash-alt\"\n            onClick={() => deleteRule(row.original.id)}\n            tooltip=\"Delete rule\"\n          />\n        </HorizontalGroup>\n      ),\n    },\n  ];\n\n  if (loading) {\n    return (\n      <div style={{ padding: '40px', textAlign: 'center' }}>\n        <Spinner inline /> Loading rules...\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <Alert title=\"Failed to load rules\" severity=\"error\">\n        {error}\n        <br /><br />\n        <Button onClick={fetchRules}>Retry</Button>\n      </Alert>\n    );\n  }\n\n  return (\n    <VerticalGroup spacing=\"md\">\n      <HorizontalGroup justify=\"space-between\">\n        <h2>BeTrace Rules ({rules.length})</h2>\n        <HorizontalGroup spacing=\"sm\">\n          <Button onClick={fetchRules} variant=\"secondary\" icon=\"sync\">\n            Refresh\n          </Button>\n          <Button onClick={onCreateRule} variant=\"primary\" icon=\"plus\">\n            Create Rule\n          </Button>\n        </HorizontalGroup>\n      </HorizontalGroup>\n\n      {rules.length === 0 ? (\n        <Alert title=\"No rules defined\" severity=\"info\">\n          Get started by creating your first BeTrace rule.\n          <br /><br />\n          <Button onClick={onCreateRule} variant=\"primary\" icon=\"plus\">\n            Create Your First Rule\n          </Button>\n        </Alert>\n      ) : (\n        <InteractiveTable columns={columns} data={rules} getRowId={(row: Rule) => row.id} />\n      )}\n    </VerticalGroup>\n  );\n};\n","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: true,\n    configurable: true,\n    writable: true\n  }) : e[r] = t, e;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = true,\n      o = false;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) ; else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = true, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), true).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = _objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r);\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _defineProperty as defineProperty, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _slicedToArray as slicedToArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _unsupportedIterableToArray as unsupportedIterableToArray };\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction compose() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (x) {\n    return fns.reduceRight(function (y, f) {\n      return f(y);\n    }, x);\n  };\n}\n\nfunction curry(fn) {\n  return function curried() {\n    var _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return args.length >= fn.length ? fn.apply(this, args) : function () {\n      for (var _len3 = arguments.length, nextArgs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        nextArgs[_key3] = arguments[_key3];\n      }\n\n      return curried.apply(_this, [].concat(args, nextArgs));\n    };\n  };\n}\n\nfunction isObject(value) {\n  return {}.toString.call(value).includes('Object');\n}\n\nfunction isEmpty(obj) {\n  return !Object.keys(obj).length;\n}\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\nfunction hasOwnProperty(object, property) {\n  return Object.prototype.hasOwnProperty.call(object, property);\n}\n\nfunction validateChanges(initial, changes) {\n  if (!isObject(changes)) errorHandler('changeType');\n  if (Object.keys(changes).some(function (field) {\n    return !hasOwnProperty(initial, field);\n  })) errorHandler('changeField');\n  return changes;\n}\n\nfunction validateSelector(selector) {\n  if (!isFunction(selector)) errorHandler('selectorType');\n}\n\nfunction validateHandler(handler) {\n  if (!(isFunction(handler) || isObject(handler))) errorHandler('handlerType');\n  if (isObject(handler) && Object.values(handler).some(function (_handler) {\n    return !isFunction(_handler);\n  })) errorHandler('handlersType');\n}\n\nfunction validateInitial(initial) {\n  if (!initial) errorHandler('initialIsRequired');\n  if (!isObject(initial)) errorHandler('initialType');\n  if (isEmpty(initial)) errorHandler('initialContent');\n}\n\nfunction throwError(errorMessages, type) {\n  throw new Error(errorMessages[type] || errorMessages[\"default\"]);\n}\n\nvar errorMessages = {\n  initialIsRequired: 'initial state is required',\n  initialType: 'initial state should be an object',\n  initialContent: 'initial state shouldn\\'t be an empty object',\n  handlerType: 'handler should be an object or a function',\n  handlersType: 'all handlers should be a functions',\n  selectorType: 'selector should be a function',\n  changeType: 'provided value of changes should be an object',\n  changeField: 'it seams you want to change a field in the state which is not specified in the \"initial\" state',\n  \"default\": 'an unknown error accured in `state-local` package'\n};\nvar errorHandler = curry(throwError)(errorMessages);\nvar validators = {\n  changes: validateChanges,\n  selector: validateSelector,\n  handler: validateHandler,\n  initial: validateInitial\n};\n\nfunction create(initial) {\n  var handler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  validators.initial(initial);\n  validators.handler(handler);\n  var state = {\n    current: initial\n  };\n  var didUpdate = curry(didStateUpdate)(state, handler);\n  var update = curry(updateState)(state);\n  var validate = curry(validators.changes)(initial);\n  var getChanges = curry(extractChanges)(state);\n\n  function getState() {\n    var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (state) {\n      return state;\n    };\n    validators.selector(selector);\n    return selector(state.current);\n  }\n\n  function setState(causedChanges) {\n    compose(didUpdate, update, validate, getChanges)(causedChanges);\n  }\n\n  return [getState, setState];\n}\n\nfunction extractChanges(state, causedChanges) {\n  return isFunction(causedChanges) ? causedChanges(state.current) : causedChanges;\n}\n\nfunction updateState(state, changes) {\n  state.current = _objectSpread2(_objectSpread2({}, state.current), changes);\n  return changes;\n}\n\nfunction didStateUpdate(state, handler, changes) {\n  isFunction(handler) ? handler(state.current) : Object.keys(changes).forEach(function (field) {\n    var _handler$field;\n\n    return (_handler$field = handler[field]) === null || _handler$field === void 0 ? void 0 : _handler$field.call(handler, state.current[field]);\n  });\n  return changes;\n}\n\nvar index = {\n  create: create\n};\n\nexport default index;\n","var config = {\n  paths: {\n    vs: 'https://cdn.jsdelivr.net/npm/monaco-editor@0.54.0/min/vs'\n  }\n};\n\nexport { config as default };\n","function curry(fn) {\n  return function curried() {\n    var _this = this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return args.length >= fn.length ? fn.apply(this, args) : function () {\n      for (var _len2 = arguments.length, nextArgs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        nextArgs[_key2] = arguments[_key2];\n      }\n      return curried.apply(_this, [].concat(args, nextArgs));\n    };\n  };\n}\n\nexport { curry as default };\n","function isObject(value) {\n  return {}.toString.call(value).includes('Object');\n}\n\nexport { isObject as default };\n","import curry from '../utils/curry.js';\nimport isObject from '../utils/isObject.js';\n\n/**\n * validates the configuration object and informs about deprecation\n * @param {Object} config - the configuration object \n * @return {Object} config - the validated configuration object\n */\nfunction validateConfig(config) {\n  if (!config) errorHandler('configIsRequired');\n  if (!isObject(config)) errorHandler('configType');\n  if (config.urls) {\n    informAboutDeprecation();\n    return {\n      paths: {\n        vs: config.urls.monacoBase\n      }\n    };\n  }\n  return config;\n}\n\n/**\n * logs deprecation message\n */\nfunction informAboutDeprecation() {\n  console.warn(errorMessages.deprecation);\n}\nfunction throwError(errorMessages, type) {\n  throw new Error(errorMessages[type] || errorMessages[\"default\"]);\n}\nvar errorMessages = {\n  configIsRequired: 'the configuration object is required',\n  configType: 'the configuration object should be an object',\n  \"default\": 'an unknown error accured in `@monaco-editor/loader` package',\n  deprecation: \"Deprecation warning!\\n    You are using deprecated way of configuration.\\n\\n    Instead of using\\n      monaco.config({ urls: { monacoBase: '...' } })\\n    use\\n      monaco.config({ paths: { vs: '...' } })\\n\\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\\n  \"\n};\nvar errorHandler = curry(throwError)(errorMessages);\nvar validators = {\n  config: validateConfig\n};\n\nexport { validators as default, errorHandler, errorMessages };\n","var compose = function compose() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n  return function (x) {\n    return fns.reduceRight(function (y, f) {\n      return f(y);\n    }, x);\n  };\n};\n\nexport { compose as default };\n","import { objectSpread2 as _objectSpread2 } from '../_virtual/_rollupPluginBabelHelpers.js';\n\nfunction merge(target, source) {\n  Object.keys(source).forEach(function (key) {\n    if (source[key] instanceof Object) {\n      if (target[key]) {\n        Object.assign(source[key], merge(target[key], source[key]));\n      }\n    }\n  });\n  return _objectSpread2(_objectSpread2({}, target), source);\n}\n\nexport { merge as default };\n","// The source (has been changed) is https://github.com/facebook/react/issues/5465#issuecomment-157888325\n\nvar CANCELATION_MESSAGE = {\n  type: 'cancelation',\n  msg: 'operation is manually canceled'\n};\nfunction makeCancelable(promise) {\n  var hasCanceled_ = false;\n  var wrappedPromise = new Promise(function (resolve, reject) {\n    promise.then(function (val) {\n      return hasCanceled_ ? reject(CANCELATION_MESSAGE) : resolve(val);\n    });\n    promise[\"catch\"](reject);\n  });\n  return wrappedPromise.cancel = function () {\n    return hasCanceled_ = true;\n  }, wrappedPromise;\n}\n\nexport { CANCELATION_MESSAGE, makeCancelable as default };\n","import { slicedToArray as _slicedToArray, objectWithoutProperties as _objectWithoutProperties } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport state from 'state-local';\nimport config$1 from '../config/index.js';\nimport validators from '../validators/index.js';\nimport compose from '../utils/compose.js';\nimport merge from '../utils/deepMerge.js';\nimport makeCancelable from '../utils/makeCancelable.js';\n\nvar _excluded = [\"monaco\"];\n\n/** the local state of the module */\nvar _state$create = state.create({\n    config: config$1,\n    isInitialized: false,\n    resolve: null,\n    reject: null,\n    monaco: null\n  }),\n  _state$create2 = _slicedToArray(_state$create, 2),\n  getState = _state$create2[0],\n  setState = _state$create2[1];\n\n/**\n * set the loader configuration\n * @param {Object} config - the configuration object\n */\nfunction config(globalConfig) {\n  var _validators$config = validators.config(globalConfig),\n    monaco = _validators$config.monaco,\n    config = _objectWithoutProperties(_validators$config, _excluded);\n  setState(function (state) {\n    return {\n      config: merge(state.config, config),\n      monaco: monaco\n    };\n  });\n}\n\n/**\n * handles the initialization of the monaco-editor\n * @return {Promise} - returns an instance of monaco (with a cancelable promise)\n */\nfunction init() {\n  var state = getState(function (_ref) {\n    var monaco = _ref.monaco,\n      isInitialized = _ref.isInitialized,\n      resolve = _ref.resolve;\n    return {\n      monaco: monaco,\n      isInitialized: isInitialized,\n      resolve: resolve\n    };\n  });\n  if (!state.isInitialized) {\n    setState({\n      isInitialized: true\n    });\n    if (state.monaco) {\n      state.resolve(state.monaco);\n      return makeCancelable(wrapperPromise);\n    }\n    if (window.monaco && window.monaco.editor) {\n      storeMonacoInstance(window.monaco);\n      state.resolve(window.monaco);\n      return makeCancelable(wrapperPromise);\n    }\n    compose(injectScripts, getMonacoLoaderScript)(configureLoader);\n  }\n  return makeCancelable(wrapperPromise);\n}\n\n/**\n * injects provided scripts into the document.body\n * @param {Object} script - an HTML script element\n * @return {Object} - the injected HTML script element\n */\nfunction injectScripts(script) {\n  return document.body.appendChild(script);\n}\n\n/**\n * creates an HTML script element with/without provided src\n * @param {string} [src] - the source path of the script\n * @return {Object} - the created HTML script element\n */\nfunction createScript(src) {\n  var script = document.createElement('script');\n  return src && (script.src = src), script;\n}\n\n/**\n * creates an HTML script element with the monaco loader src\n * @return {Object} - the created HTML script element\n */\nfunction getMonacoLoaderScript(configureLoader) {\n  var state = getState(function (_ref2) {\n    var config = _ref2.config,\n      reject = _ref2.reject;\n    return {\n      config: config,\n      reject: reject\n    };\n  });\n  var loaderScript = createScript(\"\".concat(state.config.paths.vs, \"/loader.js\"));\n  loaderScript.onload = function () {\n    return configureLoader();\n  };\n  loaderScript.onerror = state.reject;\n  return loaderScript;\n}\n\n/**\n * configures the monaco loader\n */\nfunction configureLoader() {\n  var state = getState(function (_ref3) {\n    var config = _ref3.config,\n      resolve = _ref3.resolve,\n      reject = _ref3.reject;\n    return {\n      config: config,\n      resolve: resolve,\n      reject: reject\n    };\n  });\n  var require = window.require;\n  require.config(state.config);\n  require(['vs/editor/editor.main'], function (_ref4) {\n    var monaco = _ref4.m;\n    storeMonacoInstance(monaco);\n    state.resolve(monaco);\n  }, function (error) {\n    state.reject(error);\n  });\n}\n\n/**\n * store monaco instance in local state\n */\nfunction storeMonacoInstance(monaco) {\n  if (!getState().monaco) {\n    setState({\n      monaco: monaco\n    });\n  }\n}\n\n/**\n * internal helper function\n * extracts stored monaco instance\n * @return {Object|null} - the monaco instance\n */\nfunction __getMonacoInstance() {\n  return getState(function (_ref5) {\n    var monaco = _ref5.monaco;\n    return monaco;\n  });\n}\nvar wrapperPromise = new Promise(function (resolve, reject) {\n  return setState({\n    resolve: resolve,\n    reject: reject\n  });\n});\nvar loader = {\n  config: config,\n  init: init,\n  __getMonacoInstance: __getMonacoInstance\n};\n\nexport { loader as default };\n","import loader from './loader/index.js';\n\n\n\nexport { loader as default };\n","import _t from\"@monaco-editor/loader\";import{memo as Te}from\"react\";import ke,{useState as re,useRef as S,useCallback as oe,useEffect as ne}from\"react\";import Se from\"@monaco-editor/loader\";import{memo as ye}from\"react\";import K from\"react\";var le={wrapper:{display:\"flex\",position:\"relative\",textAlign:\"initial\"},fullWidth:{width:\"100%\"},hide:{display:\"none\"}},v=le;import me from\"react\";var ae={container:{display:\"flex\",height:\"100%\",width:\"100%\",justifyContent:\"center\",alignItems:\"center\"}},Y=ae;function Me({children:e}){return me.createElement(\"div\",{style:Y.container},e)}var Z=Me;var $=Z;function Ee({width:e,height:r,isEditorReady:n,loading:t,_ref:a,className:m,wrapperProps:E}){return K.createElement(\"section\",{style:{...v.wrapper,width:e,height:r},...E},!n&&K.createElement($,null,t),K.createElement(\"div\",{ref:a,style:{...v.fullWidth,...!n&&v.hide},className:m}))}var ee=Ee;var H=ye(ee);import{useEffect as xe}from\"react\";function Ce(e){xe(e,[])}var k=Ce;import{useEffect as ge,useRef as Re}from\"react\";function he(e,r,n=!0){let t=Re(!0);ge(t.current||!n?()=>{t.current=!1}:e,r)}var l=he;function D(){}function h(e,r,n,t){return De(e,t)||be(e,r,n,t)}function De(e,r){return e.editor.getModel(te(e,r))}function be(e,r,n,t){return e.editor.createModel(r,n,t?te(e,t):void 0)}function te(e,r){return e.Uri.parse(r)}function Oe({original:e,modified:r,language:n,originalLanguage:t,modifiedLanguage:a,originalModelPath:m,modifiedModelPath:E,keepCurrentOriginalModel:g=!1,keepCurrentModifiedModel:N=!1,theme:x=\"light\",loading:P=\"Loading...\",options:y={},height:V=\"100%\",width:z=\"100%\",className:F,wrapperProps:j={},beforeMount:A=D,onMount:q=D}){let[M,O]=re(!1),[T,s]=re(!0),u=S(null),c=S(null),w=S(null),d=S(q),o=S(A),b=S(!1);k(()=>{let i=Se.init();return i.then(f=>(c.current=f)&&s(!1)).catch(f=>f?.type!==\"cancelation\"&&console.error(\"Monaco initialization: error:\",f)),()=>u.current?I():i.cancel()}),l(()=>{if(u.current&&c.current){let i=u.current.getOriginalEditor(),f=h(c.current,e||\"\",t||n||\"text\",m||\"\");f!==i.getModel()&&i.setModel(f)}},[m],M),l(()=>{if(u.current&&c.current){let i=u.current.getModifiedEditor(),f=h(c.current,r||\"\",a||n||\"text\",E||\"\");f!==i.getModel()&&i.setModel(f)}},[E],M),l(()=>{let i=u.current.getModifiedEditor();i.getOption(c.current.editor.EditorOption.readOnly)?i.setValue(r||\"\"):r!==i.getValue()&&(i.executeEdits(\"\",[{range:i.getModel().getFullModelRange(),text:r||\"\",forceMoveMarkers:!0}]),i.pushUndoStop())},[r],M),l(()=>{u.current?.getModel()?.original.setValue(e||\"\")},[e],M),l(()=>{let{original:i,modified:f}=u.current.getModel();c.current.editor.setModelLanguage(i,t||n||\"text\"),c.current.editor.setModelLanguage(f,a||n||\"text\")},[n,t,a],M),l(()=>{c.current?.editor.setTheme(x)},[x],M),l(()=>{u.current?.updateOptions(y)},[y],M);let L=oe(()=>{if(!c.current)return;o.current(c.current);let i=h(c.current,e||\"\",t||n||\"text\",m||\"\"),f=h(c.current,r||\"\",a||n||\"text\",E||\"\");u.current?.setModel({original:i,modified:f})},[n,r,a,e,t,m,E]),U=oe(()=>{!b.current&&w.current&&(u.current=c.current.editor.createDiffEditor(w.current,{automaticLayout:!0,...y}),L(),c.current?.editor.setTheme(x),O(!0),b.current=!0)},[y,x,L]);ne(()=>{M&&d.current(u.current,c.current)},[M]),ne(()=>{!T&&!M&&U()},[T,M,U]);function I(){let i=u.current?.getModel();g||i?.original?.dispose(),N||i?.modified?.dispose(),u.current?.dispose()}return ke.createElement(H,{width:z,height:V,isEditorReady:M,loading:P,_ref:w,className:F,wrapperProps:j})}var ie=Oe;var we=Te(ie);import{useState as Ie}from\"react\";import ce from\"@monaco-editor/loader\";function Pe(){let[e,r]=Ie(ce.__getMonacoInstance());return k(()=>{let n;return e||(n=ce.init(),n.then(t=>{r(t)})),()=>n?.cancel()}),e}var Le=Pe;import{memo as ze}from\"react\";import We,{useState as ue,useEffect as W,useRef as C,useCallback as _e}from\"react\";import Ne from\"@monaco-editor/loader\";import{useEffect as Ue,useRef as ve}from\"react\";function He(e){let r=ve();return Ue(()=>{r.current=e},[e]),r.current}var se=He;var _=new Map;function Ve({defaultValue:e,defaultLanguage:r,defaultPath:n,value:t,language:a,path:m,theme:E=\"light\",line:g,loading:N=\"Loading...\",options:x={},overrideServices:P={},saveViewState:y=!0,keepCurrentModel:V=!1,width:z=\"100%\",height:F=\"100%\",className:j,wrapperProps:A={},beforeMount:q=D,onMount:M=D,onChange:O,onValidate:T=D}){let[s,u]=ue(!1),[c,w]=ue(!0),d=C(null),o=C(null),b=C(null),L=C(M),U=C(q),I=C(),i=C(t),f=se(m),Q=C(!1),B=C(!1);k(()=>{let p=Ne.init();return p.then(R=>(d.current=R)&&w(!1)).catch(R=>R?.type!==\"cancelation\"&&console.error(\"Monaco initialization: error:\",R)),()=>o.current?pe():p.cancel()}),l(()=>{let p=h(d.current,e||t||\"\",r||a||\"\",m||n||\"\");p!==o.current?.getModel()&&(y&&_.set(f,o.current?.saveViewState()),o.current?.setModel(p),y&&o.current?.restoreViewState(_.get(m)))},[m],s),l(()=>{o.current?.updateOptions(x)},[x],s),l(()=>{!o.current||t===void 0||(o.current.getOption(d.current.editor.EditorOption.readOnly)?o.current.setValue(t):t!==o.current.getValue()&&(B.current=!0,o.current.executeEdits(\"\",[{range:o.current.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),o.current.pushUndoStop(),B.current=!1))},[t],s),l(()=>{let p=o.current?.getModel();p&&a&&d.current?.editor.setModelLanguage(p,a)},[a],s),l(()=>{g!==void 0&&o.current?.revealLine(g)},[g],s),l(()=>{d.current?.editor.setTheme(E)},[E],s);let X=_e(()=>{if(!(!b.current||!d.current)&&!Q.current){U.current(d.current);let p=m||n,R=h(d.current,t||e||\"\",r||a||\"\",p||\"\");o.current=d.current?.editor.create(b.current,{model:R,automaticLayout:!0,...x},P),y&&o.current.restoreViewState(_.get(p)),d.current.editor.setTheme(E),g!==void 0&&o.current.revealLine(g),u(!0),Q.current=!0}},[e,r,n,t,a,m,x,P,y,E,g]);W(()=>{s&&L.current(o.current,d.current)},[s]),W(()=>{!c&&!s&&X()},[c,s,X]),i.current=t,W(()=>{s&&O&&(I.current?.dispose(),I.current=o.current?.onDidChangeModelContent(p=>{B.current||O(o.current.getValue(),p)}))},[s,O]),W(()=>{if(s){let p=d.current.editor.onDidChangeMarkers(R=>{let G=o.current.getModel()?.uri;if(G&&R.find(J=>J.path===G.path)){let J=d.current.editor.getModelMarkers({resource:G});T?.(J)}});return()=>{p?.dispose()}}return()=>{}},[s,T]);function pe(){I.current?.dispose(),V?y&&_.set(m,o.current.saveViewState()):o.current.getModel()?.dispose(),o.current.dispose()}return We.createElement(H,{width:z,height:F,isEditorReady:s,loading:N,_ref:b,className:j,wrapperProps:A})}var fe=Ve;var de=ze(fe);var Ft=de;export{we as DiffEditor,de as Editor,Ft as default,_t as loader,Le as useMonaco};\n//# sourceMappingURL=index.mjs.map","import React, { useState, useEffect } from 'react';\nimport Editor from '@monaco-editor/react';\nimport {\n  Button,\n  Field,\n  Input,\n  TextArea,\n  Switch,\n  Alert,\n  VerticalGroup,\n  HorizontalGroup,\n  Badge,\n} from '@grafana/ui';\n\ninterface Rule {\n  id?: string;\n  name: string;\n  description: string;\n  pattern: string;\n  enabled: boolean;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\ninterface MonacoRuleEditorProps {\n  rule?: Rule | null;\n  onSave: () => void;\n  onCancel: () => void;\n  onTest?: (pattern: string) => Promise<{ valid: boolean; error?: string }>;\n  backendUrl?: string;\n}\n\n/**\n * MonacoRuleEditor - Enhanced rule editor with Monaco\n *\n * Phase 3: Monaco editor integration\n * - Syntax highlighting for BeTraceDSL\n * - Multi-line editing\n * - Pattern validation (optional)\n */\nexport const MonacoRuleEditor: React.FC<MonacoRuleEditorProps> = ({\n  rule,\n  onSave,\n  onCancel,\n  onTest,\n  backendUrl = 'http://localhost:12011',\n}) => {\n  const [name, setName] = useState(rule?.name || '');\n  const [description, setDescription] = useState(rule?.description || '');\n  const [pattern, setPattern] = useState(rule?.pattern || '');\n  const [enabled, setEnabled] = useState(rule?.enabled ?? true);\n  const [saving, setSaving] = useState(false);\n  const [testing, setTesting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [testResult, setTestResult] = useState<{ valid: boolean; error?: string } | null>(null);\n\n  const isEdit = Boolean(rule?.id);\n\n  // Form validation\n  const isValid = name.trim().length > 0 && pattern.trim().length > 0;\n\n  // Test pattern syntax\n  const handleTest = async () => {\n    if (!pattern.trim()) {\n      setTestResult({ valid: false, error: 'Pattern is empty' });\n      return;\n    }\n\n    setTesting(true);\n    setTestResult(null);\n\n    try {\n      if (onTest) {\n        const result = await onTest(pattern);\n        setTestResult(result);\n      } else {\n        // Basic validation - check for common DSL keywords\n        const hasKeywords = /trace\\.|span\\.|has\\(|and|or|not/.test(pattern);\n        setTestResult({\n          valid: hasKeywords,\n          error: hasKeywords ? undefined : 'Pattern should contain BeTraceDSL keywords (trace., span., has(), etc.)',\n        });\n      }\n    } catch (err) {\n      setTestResult({\n        valid: false,\n        error: err instanceof Error ? err.message : 'Test failed',\n      });\n    } finally {\n      setTesting(false);\n    }\n  };\n\n  // Save rule\n  const handleSave = async () => {\n    if (!isValid) {\n      setError('Rule name and pattern are required');\n      return;\n    }\n\n    setSaving(true);\n    setError(null);\n\n    try {\n      const ruleData = {\n        name: name.trim(),\n        description: description.trim(),\n        pattern: pattern.trim(),\n        enabled,\n      };\n\n      const url = isEdit ? `${backendUrl}/api/rules/${rule!.id}` : `${backendUrl}/api/rules`;\n      const method = isEdit ? 'PUT' : 'POST';\n\n      const response = await fetch(url, {\n        method,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(ruleData),\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`HTTP ${response.status}: ${errorText || response.statusText}`);\n      }\n\n      // Success - call onSave to return to list\n      onSave();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to save rule');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <VerticalGroup spacing=\"lg\">\n      <HorizontalGroup justify=\"space-between\">\n        <div>\n          <h2>{isEdit ? 'Edit Rule' : 'Create New Rule'}</h2>\n          <p style={{ color: '#888', fontSize: '14px', margin: 0 }}>\n            Phase 3: Monaco editor with BeTraceDSL support\n          </p>\n        </div>\n        <Button variant=\"secondary\" icon=\"arrow-left\" onClick={onCancel}>\n          Back to List\n        </Button>\n      </HorizontalGroup>\n\n      {error && (\n        <Alert title=\"Error\" severity=\"error\" onRemove={() => setError(null)}>\n          {error}\n        </Alert>\n      )}\n\n      <Field label=\"Rule Name\" required description=\"Unique identifier for this rule\">\n        <Input\n          value={name}\n          onChange={(e) => setName(e.currentTarget.value)}\n          placeholder=\"e.g., auth-required-for-pii-access\"\n          width={50}\n        />\n      </Field>\n\n      <Field label=\"Description\" description=\"Human-readable explanation of what this rule checks\">\n        <TextArea\n          value={description}\n          onChange={(e) => setDescription(e.currentTarget.value)}\n          placeholder=\"e.g., Ensures all PII access has corresponding authentication span\"\n          rows={3}\n        />\n      </Field>\n\n      <div>\n        <Field\n          label=\"Pattern (BeTraceDSL)\"\n          required\n          description=\"Trace pattern in BeTraceDSL syntax with Monaco editor\"\n        >\n          <div style={{ border: '1px solid #444', borderRadius: '2px', overflow: 'hidden' }}>\n            <Editor\n              height=\"300px\"\n              defaultLanguage=\"javascript\"\n              theme=\"vs-dark\"\n              value={pattern}\n              onChange={(value) => setPattern(value || '')}\n              options={{\n                minimap: { enabled: false },\n                fontSize: 13,\n                lineNumbers: 'on',\n                scrollBeyondLastLine: false,\n                automaticLayout: true,\n                tabSize: 2,\n                wordWrap: 'on',\n              }}\n            />\n          </div>\n        </Field>\n        <HorizontalGroup spacing=\"sm\" style={{ marginTop: '8px' }}>\n          <Button size=\"sm\" variant=\"secondary\" onClick={handleTest} disabled={testing || !pattern.trim()}>\n            {testing ? 'Testing...' : 'Test Pattern'}\n          </Button>\n          {testResult && (\n            <Badge\n              text={testResult.valid ? 'Valid' : 'Invalid'}\n              color={testResult.valid ? 'green' : 'red'}\n              icon={testResult.valid ? 'check' : 'exclamation-triangle'}\n            />\n          )}\n        </HorizontalGroup>\n        {testResult && !testResult.valid && testResult.error && (\n          <Alert title=\"Pattern Validation\" severity=\"warning\" style={{ marginTop: '8px' }}>\n            {testResult.error}\n          </Alert>\n        )}\n      </div>\n\n      <Field label=\"Status\" description=\"Enable or disable this rule\">\n        <HorizontalGroup spacing=\"sm\">\n          <Switch value={enabled} onChange={(e) => setEnabled(e.currentTarget.checked)} />\n          <span>{enabled ? 'Enabled' : 'Disabled'}</span>\n        </HorizontalGroup>\n      </Field>\n\n      <HorizontalGroup spacing=\"sm\">\n        <Button variant=\"primary\" onClick={handleSave} disabled={!isValid || saving}>\n          {saving ? 'Saving...' : isEdit ? 'Update Rule' : 'Create Rule'}\n        </Button>\n        <Button variant=\"secondary\" onClick={onCancel} disabled={saving}>\n          Cancel\n        </Button>\n      </HorizontalGroup>\n\n      <Alert title=\"BeTraceDSL Examples\" severity=\"info\">\n        <strong>Common patterns:</strong>\n        <pre style={{ fontSize: '12px', marginTop: '8px' }}>\n{`// PII access requires authentication\ntrace.has(span.name == \"pii.access\") and trace.has(span.name == \"auth.check\")\n\n// Error rate threshold\ntrace.spans.filter(s => s.status == \"error\").length > 5\n\n// Compliance: audit log required\ntrace.has(span.attributes[\"data.pii\"] == true) and trace.has(span.name == \"audit.log\")`}\n        </pre>\n      </Alert>\n    </VerticalGroup>\n  );\n};\n","import React, { useState } from 'react';\nimport { AppRootProps } from '@grafana/data';\nimport { Alert, VerticalGroup } from '@grafana/ui';\nimport { RuleList } from '../components/RuleList';\nimport { MonacoRuleEditor } from '../components/MonacoRuleEditor';\n\ntype View = 'list' | 'create' | 'edit';\n\ninterface Rule {\n  id?: string;\n  name: string;\n  description: string;\n  pattern: string;\n  enabled: boolean;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\n/**\n * RootPage - Main entry point for BeTrace plugin\n *\n * Phase 2: Full rule management with list/create/edit views\n */\nexport const RootPage: React.FC<AppRootProps> = () => {\n  const [currentView, setCurrentView] = useState<View>('list');\n  const [selectedRule, setSelectedRule] = useState<Rule | null>(null);\n\n  // Backend URL - TODO: make configurable via plugin settings\n  const backendUrl = 'http://localhost:12011';\n\n  // Navigation handlers\n  const handleCreateRule = () => {\n    setSelectedRule(null);\n    setCurrentView('create');\n  };\n\n  const handleEditRule = (rule: Rule) => {\n    setSelectedRule(rule);\n    setCurrentView('edit');\n  };\n\n  const handleSave = () => {\n    setSelectedRule(null);\n    setCurrentView('list');\n  };\n\n  const handleCancel = () => {\n    setSelectedRule(null);\n    setCurrentView('list');\n  };\n\n  // Pattern testing (basic validation)\n  const handleTestPattern = async (pattern: string): Promise<{ valid: boolean; error?: string }> => {\n    // Basic syntax validation\n    const hasKeywords = /trace\\.|span\\.|has\\(|and|or|not/.test(pattern);\n    if (!hasKeywords) {\n      return {\n        valid: false,\n        error: 'Pattern should contain BeTraceDSL keywords (trace., span., has(), and, or, not)',\n      };\n    }\n\n    // Check for balanced parentheses\n    const openParens = (pattern.match(/\\(/g) || []).length;\n    const closeParens = (pattern.match(/\\)/g) || []).length;\n    if (openParens !== closeParens) {\n      return {\n        valid: false,\n        error: `Unbalanced parentheses: ${openParens} opening, ${closeParens} closing`,\n      };\n    }\n\n    return { valid: true };\n  };\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <VerticalGroup spacing=\"lg\">\n        <div>\n          <h1>BeTrace - Behavioral Assurance for OpenTelemetry</h1>\n          <p style={{ color: '#888', fontSize: '14px' }}>\n            Create and manage trace pattern matching rules with BeTraceDSL\n          </p>\n        </div>\n\n        {currentView === 'list' && (\n          <RuleList\n            onCreateRule={handleCreateRule}\n            onEditRule={handleEditRule}\n            backendUrl={backendUrl}\n          />\n        )}\n\n        {(currentView === 'create' || currentView === 'edit') && (\n          <MonacoRuleEditor\n            rule={selectedRule}\n            onSave={handleSave}\n            onCancel={handleCancel}\n            onTest={handleTestPattern}\n            backendUrl={backendUrl}\n          />\n        )}\n\n        {/* Footer info */}\n        <div style={{ marginTop: '40px', fontSize: '12px', color: '#888', borderTop: '1px solid #333', paddingTop: '20px' }}>\n          <p>\n            <strong>ADR-027:</strong> BeTrace as Grafana App Plugin\n            <br />\n            <strong>Status:</strong> Phase 3 - Monaco Editor (Production Ready)\n            <br />\n            <strong>Backend:</strong> {backendUrl}\n          </p>\n        </div>\n      </VerticalGroup>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { AppPluginMeta, PluginConfigPageProps } from '@grafana/data';\nimport { Button, Field, Input, VerticalGroup } from '@grafana/ui';\n\n/**\n * ConfigPage - Plugin configuration\n *\n * Allows admins to configure BeTrace backend URL and API settings\n */\nexport const ConfigPage: React.FC<PluginConfigPageProps<AppPluginMeta>> = ({ plugin }) => {\n  const [backendUrl, setBackendUrl] = useState(\n    plugin.meta.jsonData?.backendUrl || 'http://localhost:12011'\n  );\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <VerticalGroup spacing=\"lg\">\n        <h2>BeTrace Plugin Configuration</h2>\n\n        <Field\n          label=\"BeTrace Backend URL\"\n          description=\"URL of the BeTrace backend API (Go server)\"\n        >\n          <Input\n            value={backendUrl}\n            onChange={(e) => setBackendUrl(e.currentTarget.value)}\n            placeholder=\"http://localhost:12011\"\n            width={50}\n          />\n        </Field>\n\n        <div>\n          <Button variant=\"primary\" disabled>\n            Save Configuration (Persistence Coming Soon)\n          </Button>\n        </div>\n\n        <div style={{ marginTop: '40px' }}>\n          <h3>Backend API Endpoints</h3>\n          <p>\n            The BeTrace backend should expose the following REST API:\n          </p>\n          <ul>\n            <li><code>GET /api/rules</code> - List all rules</li>\n            <li><code>POST /api/rules</code> - Create new rule</li>\n            <li><code>PUT /api/rules/:id</code> - Update rule</li>\n            <li><code>DELETE /api/rules/:id</code> - Delete rule</li>\n            <li><code>POST /api/rules/test</code> - Test rule with sample trace</li>\n          </ul>\n        </div>\n      </VerticalGroup>\n    </div>\n  );\n};\n","import { AppPlugin } from '@grafana/data';\nimport { RootPage } from './pages/RootPage';\nimport { ConfigPage } from './pages/ConfigPage';\n\n/**\n * BeTrace Grafana App Plugin\n *\n * ADR-027: BeTrace as Grafana App Plugin\n *\n * Provides rule management UI for BeTraceDSL trace pattern matching.\n * Users create, edit, test, and manage rules through native Grafana UI.\n */\nexport const plugin = new AppPlugin()\n  .setRootPage(RootPage)\n  .addConfigPage({\n    title: 'Configuration',\n    icon: 'cog',\n    body: ConfigPage,\n    id: 'configuration',\n  });\n"],"names":["React","useState","useEffect","Button","InteractiveTable","Alert","Spinner","VerticalGroup","HorizontalGroup","Badge","RuleList","onCreateRule","onEditRule","backendUrl","rules","setRules","loading","setLoading","error","setError","fetchRules","response","fetch","ok","Error","status","statusText","data","json","err","message","deleteRule","id","confirm","method","alert","toggleRule","rule","headers","body","JSON","stringify","enabled","columns","header","cell","row","text","original","color","strong","name","description","em","code","style","fontSize","maxWidth","display","overflow","textOverflow","pattern","spacing","size","variant","icon","onClick","tooltip","div","padding","textAlign","inline","title","severity","br","justify","h2","length","getRowId","Editor","Field","Input","TextArea","Switch","MonacoRuleEditor","onSave","onCancel","onTest","setName","setDescription","setPattern","setEnabled","saving","setSaving","testing","setTesting","testResult","setTestResult","isEdit","Boolean","isValid","trim","handleTest","valid","result","hasKeywords","test","undefined","handleSave","ruleData","url","errorText","p","margin","onRemove","label","required","value","onChange","e","currentTarget","placeholder","width","rows","border","borderRadius","height","defaultLanguage","theme","options","minimap","lineNumbers","scrollBeyondLastLine","automaticLayout","tabSize","wordWrap","marginTop","disabled","checked","span","pre","RootPage","currentView","setCurrentView","selectedRule","setSelectedRule","handleCreateRule","handleEditRule","handleCancel","handleTestPattern","openParens","match","closeParens","h1","borderTop","paddingTop","ConfigPage","plugin","setBackendUrl","meta","jsonData","h3","ul","li","AppPlugin","setRootPage","addConfigPage"],"sourceRoot":""}